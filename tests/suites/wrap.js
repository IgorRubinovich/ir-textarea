ir.textarea.tests = ir.textarea.tests || {};
ir.textarea.tests.wrap =

[
	{
		"name": "simple selection in container",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 1
			},
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 22
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">0<span style=\"background-color : yellow\">1. paragraphs with em</span>pty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "simple selection bare node",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					3
				],
				"offset": 1
			},
			{
				"container": [
					11,
					3
				],
				"offset": 9
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>s<span style=\"background-color : yellow\">ome norm</span>al text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "color over mixed wrappers - simple",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : lightblue'",
			{
				"container": [
					11,
					4,
					0
				],
				"offset": 5
			},
			{
				"container": [
					11,
					5,
					0
				],
				"offset": 6
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>itali<span style=\"background-color : lightblue\">c block</span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">and a </span></span></b><b>bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "color over mixed wrappers - 2",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : lightgreen'",
			{
				"container": [
					11,
					3
				],
				"offset": 13
			},
			{
				"container": [
					11,
					5,
					0,
					0,
					0
				],
				"offset": 1
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>itali<span style=\"background-color : lightblue\">c block</span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">and a </span></span></b><b>bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ext, an </span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b>bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "inline edge - left",
		"command": "testWrapSelection",
		"arguments": [
			"u",
			{
				"container": [
					11,
					8,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					8,
					0
				],
				"offset": 6
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ext, an </span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b>bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ext, an </span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b><u>bold b</u>lock</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "inline edge - right",
		"command": "testWrapSelection",
		"arguments": [
			"u",
			{
				"container": [
					11,
					4,
					0,
					0
				],
				"offset": 2
			},
			{
				"container": [
					11,
					4,
					0,
					0
				],
				"offset": 8
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ext, an </span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b><u>bold b</u>lock</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ex<u>t, an </u></span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b><u>bold b</u>lock</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "full table - outside selection",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11
				],
				"offset": 11
			},
			{
				"container": [
					11
				],
				"offset": 12
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ex<u>t, an </u></span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b><u>bold b</u>lock</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal t<span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">ex<u>t, an </u></span></span><i><span style=\"background-color : lightgreen\">itali</span><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">c block</span></span></i><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\"><span style=\"background-color : lightgreen\">a</span></span></span></span></b><b><span style=\"background-color : lightblue\"><span style=\"background-color : lightblue\">nd a </span></span></b><b><u>bold b</u>lock</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\"><span style=\"background-color : yellow\">\n\t\t</span><tbody><tr>\n\t\t\t<td><span style=\"background-color : yellow\">some</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">tabled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">data</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">here</span></td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "full table - inside selection",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					8,
					1,
					0,
					1,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					8,
					1,
					2,
					3,
					0
				],
				"offset": 4
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td><span style=\"background-color : yellow\">some</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">tabled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">data</span></span></td>\n\t\t\t<td><span style=\"background-color : yellow\">here</span></td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "bare node to custom element",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					3
				],
				"offset": 3
			},
			{
				"container": [
					11,
					7,
					0,
					1,
					0
				],
				"offset": 6
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>som<span style=\"background-color : yellow\"><span style=\"background-color : yellow\">e normal text, an </span></span><i><span style=\"background-color : yellow\">italic block</span></i><b><span style=\"background-color : yellow\">and a bold block</span></b><span style=\"background-color : yellow\"> enter a bar\n\t</span><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"></span><div class=\"caption\" contenteditable=\"true\"><span style=\"background-color : yellow\">hi cap</span>tion</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "table one cell",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					8,
					1,
					0,
					1,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					8,
					1,
					0,
					1,
					0
				],
				"offset": 4
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td><span style=\"background-color : yellow\">some</span></td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "table cross cell different raw",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					8,
					1,
					0,
					3,
					0
				],
				"offset": 1
			},
			{
				"container": [
					11,
					8,
					1,
					2,
					1,
					0
				],
				"offset": 2
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>t<span style=\"background-color : yellow\">abled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">da</span>ta</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "table cross cell different raw - 2",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					8,
					1,
					0,
					3,
					0
				],
				"offset": 3
			},
			{
				"container": [
					11,
					8,
					1,
					2,
					3,
					0
				],
				"offset": 2
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tab<span style=\"background-color : yellow\">led</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">data</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">he</span>re</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "partial table cross to bare node",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					8,
					1,
					0,
					1,
					0
				],
				"offset": 2
			},
			{
				"container": [
					11,
					9
				],
				"offset": 5
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>so<span style=\"background-color : yellow\">me</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">tabled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">data</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">here</span></td>\n\t\t</tr>\n\t</tbody></table><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">bare </span></span>text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "whole document",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					40
				],
				"offset": 1
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>so<span style=\"background-color : yellow\">me</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">tabled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">data</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">here</span></td>\n\t\t</tr>\n\t</tbody></table><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">bare </span></span>text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : yellow\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">02. two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. paragraphs</span></span><span style=\"background-color : yellow\">some normal text, an </span><i><span style=\"background-color : yellow\">italic block</span></i><b><span style=\"background-color : yellow\">and a bold block</span></b><span style=\"background-color : yellow\"> enter a bar\n\t</span><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"></span><div class=\"caption\" contenteditable=\"true\"><span style=\"background-color : yellow\">hi caption</span></div></div></ir-gallery><table border=\"\"><span style=\"background-color : yellow\">\n\t\t</span><tbody><tr>\n\t\t\t<td><span style=\"background-color : yellow\">so</span><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">me</span></span></td>\n\t\t\t<td><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">tabled</span></span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">data</span></span></td>\n\t\t\t<td><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">here</span></span></td>\n\t\t</tr>\n\t</tbody></table><span style=\"background-color : yellow\"><span style=\"background-color : yellow\"><span style=\"background-color : yellow\">bare </span></span></span><span style=\"background-color : yellow\">text</span><ir-gallery contenteditable=\"false\" theme=\"default\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></span></ir-gallery><span class=\"paragraph\"><span style=\"background-color : yellow\">a paragraph with a CE just before it no space between</span></span><span style=\"background-color : yellow\">\n\t\na couple empty paragraphs</span><span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\"><span style=\"background-color : yellow\">two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">hello<br><br><br><br><br><br><br><br><br></span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">02. two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. paragraphs</span></span><span style=\"background-color : yellow\">\n\t</span><ir-gallery contenteditable=\"false\" theme=\"default\"><span style=\"background-color : yellow\"><img http:=\"\" lorempixel.com=\"\" 301=\"\" 201=\"\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></span></ir-gallery><span class=\"paragraph\"><span style=\"background-color : yellow\">a paragraph with a CE just before it no space between</span></span><span style=\"background-color : yellow\">\n\n\t\n\t\n\t</span><ir-gallery contenteditable=\"false\" theme=\"default\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\"></span></ir-gallery><span style=\"background-color : yellow\">\n\t\tSome text </span><b><i><span style=\"background-color : yellow\">italic in bold</span></i><span style=\"background-color : yellow\">some bold</span></b><span style=\"background-color : yellow\"> without paragraph ending with two brs</span><span style=\"background-color : yellow\"><br></span><span style=\"background-color : yellow\"><br></span><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"></span><div class=\"caption\" contenteditable=\"true\"><span style=\"background-color : yellow\">hi caption</span></div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/200/\"></span></ir-gallery><span style=\"background-color : yellow\">\n\t\t</span><span class=\"paragraph\"><span style=\"background-color : yellow\">a short paragraph a short paragraph a short paragraph </span><b><span style=\"background-color : yellow\">some bold in a short paragraph </span><i><span style=\"background-color : yellow\"> some italic in bold in a short paragraph </span></i></b><span style=\"background-color : yellow\">a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span></span><span style=\"background-color : yellow\">\n\t\t</span><span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><span style=\"background-color : yellow\"><img src=\"http://lorempixel.com/300/204/\"></span></ir-gallery><span style=\"background-color : yellow\"> a gallery immediately under a paragraph</span></span><span style=\"background-color : yellow\">\n\n\t</span><table border=\"\"><span style=\"background-color : yellow\">\n\t\t</span><tbody><tr>\n\t\t\t<td><span style=\"background-color : yellow\">some</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">tabled</span></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td><span style=\"background-color : yellow\">data</span></td>\n\t\t\t<td><span style=\"background-color : yellow\">here</span></td>\n\t\t</tr>\n\t</tbody></table><span style=\"background-color : yellow\">\n\t\n\t</span><span class=\"paragraph\"><table border=\"\"><span style=\"background-color : yellow\">\n\t\t\t</span><tbody><tr>\n\t\t\t\t<td><span style=\"background-color : yellow\">table inside</span></td>\n\t\t\t\t<td><span style=\"background-color : yellow\">paragraph</span></td>\n\t\t\t</tr>\n\t\t</tbody></table><span style=\"background-color : yellow\">\n\t</span></span>\n\n\t"
	},
	{
		"name": "full caption",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					7,
					0,
					1,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					7,
					0,
					1,
					0
				],
				"offset": 10
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\"><span style=\"background-color : yellow\">hi caption</span></div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "three paragraphs",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					2,
					0
				],
				"offset": 14
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : yellow\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">02. two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. paragraphs</span></span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "2.5 paragraphs last hanging ",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					2,
					0
				],
				"offset": 7
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : yellow\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">02. two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. par</span>agraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "2.5 paragraphs first hanging ",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 13
			},
			{
				"container": [
					11,
					2,
					0
				],
				"offset": 14
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\">01. paragraph<span style=\"background-color : yellow\">s with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">02. two consecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. paragraphs</span></span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "1.5 paragraphs first hanging ",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : lightblue'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					1,
					0
				],
				"offset": 9
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : lightblue\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : lightblue\">02. two c</span>onsecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "1.5 paragraphs last hanging ",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : lightgreen'",
			{
				"container": [
					11,
					0,
					0,
					0
				],
				"offset": 11
			},
			{
				"container": [
					11,
					1,
					1
				],
				"offset": 10
			}
		],
		"originalHTML": "<span class=\"paragraph\"><span style=\"background-color : lightblue\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : lightblue\">02. two c</span>onsecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : lightblue\">01. paragra<span style=\"background-color : lightgreen\">phs with empty paragraph between</span></span></span><span class=\"paragraph\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">02. two c</span></span><span style=\"background-color : lightgreen\">onsecutive</span></span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "full paragraph",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : yellow'",
			{
				"container": [
					11,
					2,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					3
				],
				"offset": 0
			}
		],
		"originalHTML": "<span class=\"paragraph\"><span style=\"background-color : lightblue\">01. paragra<span style=\"background-color : lightgreen\">phs with empty paragraph between</span></span></span><span class=\"paragraph\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">02. two c</span></span><span style=\"background-color : lightgreen\">onsecutive</span></span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : lightblue\">01. paragra<span style=\"background-color : lightgreen\">phs with empty paragraph between</span></span></span><span class=\"paragraph\"><span style=\"background-color : lightblue\"><span style=\"background-color : lightgreen\">02. two c</span></span><span style=\"background-color : lightgreen\">onsecutive</span></span><span class=\"paragraph\"><span style=\"background-color : yellow\">03. paragraphs</span></span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	},
	{
		"name": "two full paragraphs",
		"command": "testWrapSelection",
		"arguments": [
			"span style='background-color : lightgreen'",
			{
				"container": [
					11,
					0,
					0
				],
				"offset": 0
			},
			{
				"container": [
					11,
					1,
					0
				],
				"offset": 19
			}
		],
		"originalHTML": "<span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t",
		"resultHTML": "<span class=\"paragraph\"><span style=\"background-color : lightgreen\">01. paragraphs with empty paragraph between</span></span><span class=\"paragraph\"><span style=\"background-color : lightgreen\">02. two consecutive</span></span><span class=\"paragraph\">03. paragraphs</span>some normal text, an <i>italic block</i><b>and a bold block</b> enter a bar\n\t<ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; transform: translate(0px, 0px);\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>bare text<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\t\na couple empty paragraphs<span class=\"paragraph\"></span><span class=\"paragraph\"></span><span class=\"paragraph\">two consecutive</span><span class=\"paragraph\">hello<br><br><br><br><br><br><br><br><br></span><span class=\"paragraph\">01. paragraphs with empty paragraph between</span><span class=\"paragraph\">02. two consecutive</span><span class=\"paragraph\">03. paragraphs</span>\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/301/201/\" \"=\"\" style=\"display: inline-block; position: relative; width: 247px; height: 186.859px; transform: translate(0px, 0px);\" width=\"247\" height=\"186.859375\"></ir-gallery><span class=\"paragraph\">a paragraph with a CE just before it no space between</span>\n\n\t\n\t\n\t<ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\tSome text <b><i>italic in bold</i>some bold</b> without paragraph ending with two brs<br><br><ir-gallery contenteditable=\"false\" theme=\"blackfriday\" style=\"display: inline-block;\"><div class=\"caption-wrapper\"><img src=\"http://lorempixel.com/300/200/\" style=\"display: inline-block; position: relative; width: 218px; height: 166.313px; transform: translate(0px, 0px);\" width=\"218\" height=\"166.3125\"><div class=\"caption\" contenteditable=\"true\">hi caption</div></div></ir-gallery><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/200/\"></ir-gallery>\n\t\t<span class=\"paragraph\">a short paragraph a short paragraph a short paragraph <b>some bold in a short paragraph <i> some italic in bold in a short paragraph </i></b>a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph a short paragraph </span>\n\t\t<span class=\"paragraph\"><ir-gallery contenteditable=\"false\" theme=\"default\"><img src=\"http://lorempixel.com/300/204/\"></ir-gallery> a gallery immediately under a paragraph</span>\n\n\t<table border=\"\">\n\t\t<tbody><tr>\n\t\t\t<td>some</td>\n\t\t\t<td>tabled</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>data</td>\n\t\t\t<td>here</td>\n\t\t</tr>\n\t</tbody></table>\n\t\n\t<span class=\"paragraph\"><table border=\"\">\n\t\t\t<tbody><tr>\n\t\t\t\t<td>table inside</td>\n\t\t\t\t<td>paragraph</td>\n\t\t\t</tr>\n\t\t</tbody></table>\n\t</span>\n\n\t"
	}
]